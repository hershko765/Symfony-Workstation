module.exports=function(e){e.initConfig({pkg:e.file.readJSON("package.json"),meta:{version:"<%= pkg.version %>",banner:'// Backbone.BabySitter\n// -------------------\n// v<%= pkg.version %>\n//\n// Copyright (c)<%= grunt.template.today("yyyy") %> Derick Bailey, Muted Solutions, LLC.\n// Distributed under MIT license\n//\n// http://github.com/marionettejs/backbone.babysitter\n\n'},lint:{files:["src/*.js"]},preprocess:{umd:{src:"src/build/backbone.babysitter.js",dest:"lib/backbone.babysitter.js"}},template:{options:{data:{version:"<%= meta.version %>"}},umd:{src:"<%= preprocess.umd.dest %>",dest:"<%= preprocess.umd.dest %>"}},concat:{options:{banner:"<%= meta.banner %>"},umd:{src:"<%= preprocess.umd.dest %>",dest:"<%= preprocess.umd.dest %>"}},uglify:{options:{banner:"<%= meta.banner %>"},umd:{src:"lib/backbone.babysitter.js",dest:"lib/backbone.babysitter.min.js",options:{sourceMap:"lib/backbone.babysitter.map",sourceMappingURL:"backbone.babysitter.map",sourceMapPrefix:2}}},jasmine:{options:{helpers:"spec/javascripts/helpers/*.js",specs:"spec/javascripts/**/*.spec.js",vendor:["public/javascripts/jquery.js","public/javascripts/json2.js","public/javascripts/underscore.js","public/javascripts/backbone.js"]},coverage:{src:"<%= jasmine.babysitter.src %>",options:{template:require("grunt-template-jasmine-istanbul"),templateOptions:{coverage:"reports/coverage.json",report:"reports/coverage"}}},babysitter:{src:["src/*.js"]}},jshint:{options:{jshintrc:".jshintrc"},babysitter:["src/*.js"]},plato:{babysitter:{src:"src/*.js",dest:"reports",options:{jshint:e.file.readJSON(".jshintrc")}}},watch:{babysitter:{files:["src/*.js","spec/**/*.js"],tasks:["jshint","jasmine:babysitter"]},server:{files:["src/*.js","spec/**/*.js"],tasks:["jasmine:babysitter:build"]}},connect:{server:{options:{port:8888}}}}),e.loadNpmTasks("grunt-preprocess"),e.loadNpmTasks("grunt-template"),e.loadNpmTasks("grunt-contrib-jasmine"),e.loadNpmTasks("grunt-contrib-concat"),e.loadNpmTasks("grunt-contrib-jshint"),e.loadNpmTasks("grunt-contrib-uglify"),e.loadNpmTasks("grunt-contrib-watch"),e.loadNpmTasks("grunt-contrib-connect"),e.loadNpmTasks("grunt-plato"),e.registerTask("test",["jshint","jasmine:babysitter"]),e.registerTask("dev",["test","watch:babysitter"]),e.registerTask("server",["jasmine:babysitter:build","connect:server","watch:server"]),e.registerTask("default",["jshint","jasmine:coverage","preprocess","template","concat","uglify"])};
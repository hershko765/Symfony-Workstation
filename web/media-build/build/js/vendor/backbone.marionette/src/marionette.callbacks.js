Marionette.Callbacks=function(){this._deferred=Marionette.$.Deferred(),this._callbacks=[]},_.extend(Marionette.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(n,r){t&&(n=t),e.call(n,r)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=Marionette.$.Deferred(),this._callbacks=[],_.each(e,function(e){this.add(e.cb,e.ctx)},this)}});